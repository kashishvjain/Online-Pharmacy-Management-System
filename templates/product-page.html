{% extends "base.html" %}
{% load static %}
{% block content %}




    <div class="container dark-grey-text mt-5">

      <!--Grid row-->
      <div class="row wow fadeIn">
        <!--Grid column-->
        <div class="col-md-6 mb-4">
          <img src="https://veganfoodandliving-1321f.kxcdn.com/wp-content/uploads/2019/03/featured.jpg" class="img-fluid" alt="" height="400vh" width="400vh">
        </div>
        <!--Grid column-->

        <!--Grid column-->
        <div class="col-md-6 mb-4">

          <!--Content-->
          <!-- <div class="p-4"> -->

            <!-- <div class="mb-3"> -->

              <p id="name" class="lead font-weight-bold" >{{object.name}}</p>
              <hr>
                <h3><p class="badge badge-pill badge-info" >{{object.generic_name}}</p></h3>

            <!-- </div> -->

            <p class="lead">
              <strong><span><span>&#8377;</span>{{object.price}}</span>
            </p>

            <p class="lead font-weight-bold">Effects</p>

            <p>{{object.effects}}</p>

            <p class="lead font-weight-bold">Side Effects</p>

            <p>{{object.side_effects}}</p>


<!--
            <span id="divpr{{object.id}}" class="divpr">
                  <button type="submit" id="pr{{object.id}}"  class="btn btn-md btn-primary buy">
                        Buy
                        <i class="fas fa-shopping-cart ml-1"></i>
                  </button>
            </span>
          <a href='/cart'><button type="submit" class="btn btn-md btn-primary">buy now</button></a>
-->



          <!-- </div> -->
          <!--Content-->

        </div>
        <!--Grid column-->

      </div>
      <!--Grid row-->

      <hr>

      <!--Grid row-->
      <div class="row d-flex justify-content-center wow fadeIn">

        <!--Grid column-->
        <div class="col-md-6 text-center">

          <h4 class="my-4 h4">Pharmacy Information</h4>


          <strong><p> {{object.pharmacy.name}}</p></strong>
          <p>{{object.pharmacy.address.apartment_address}} {{object.pharmacy.address.street_address}}</p>
          <p>{{object.pharmacy.address.country}} {{object.pharmacy.address.zip}}</p>
        </div>
        <!--Grid column-->

      </div>
      <hr>
      <!--Grid row-->



    </div>
  </main>

{% endblock content %}

    {% block extra_scripts %}
<script>

if (localStorage.getItem('cart') == null) {
    var cart = {};
} else {
    cart = JSON.parse(localStorage.getItem('cart'));
    localStorage.setItem('cart',JSON.stringify(cart));
}

$('.divpr').on('click','button.buy',function(){
    var idstr = this.id.toString();
    localStorage.clear();
    qty = 1;
    name = document.getElementById('name').innerHTML;
    cart[idstr] =[qty,name];
    console.log(cart);
    localStorage.setItem('cart',JSON.stringify(cart));
});

    var sum = 0;
    for(var item in cart){
        sum = sum + cart[item][0];
    }
    document.getElementById('kart').innerHTML=sum;
</script>

    {% endblock extra_scripts %}
